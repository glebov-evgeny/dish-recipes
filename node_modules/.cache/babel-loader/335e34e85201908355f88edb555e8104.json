{"ast":null,"code":"import _slicedToArray from\"/Users/evgeniy/Desktop/portfolio/dish-recipes/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useEffect,useState}from\"react\";import{useParams,useHistory}from\"react-router-dom\";import{getMealById}from\"../api\";import{Preloader}from\"../components/Preloader/Preloader\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function Recipe(){var _useState=useState({}),_useState2=_slicedToArray(_useState,2),recipe=_useState2[0],setRecipe=_useState2[1];var _useParams=useParams(),id=_useParams.id;var _useHistory=useHistory(),goBack=_useHistory.goBack;useEffect(function(){getMealById(id).then(function(data){return setRecipe(data.meals[0]);});},[id]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"button\",{className:\"back__btn\",onClick:goBack,children:\"Go back\"}),!recipe.idMeal?/*#__PURE__*/_jsx(Preloader,{}):/*#__PURE__*/_jsxs(\"div\",{className:\"recipe\",children:[/*#__PURE__*/_jsx(\"img\",{src:recipe.strMealThumb,alt:\"{recipe.strMeal}\"}),/*#__PURE__*/_jsx(\"h1\",{children:recipe.strMeal}),/*#__PURE__*/_jsxs(\"h6\",{children:[\"Category: \",recipe.strCategory]}),recipe.strArea?/*#__PURE__*/_jsxs(\"h6\",{children:[\"Area: \",recipe.strArea]}):null,/*#__PURE__*/_jsx(\"p\",{children:recipe.strInstructions}),/*#__PURE__*/_jsxs(\"table\",{className:\"centered\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Ingredient\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Measure\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:Object.keys(recipe).map(function(key){if(key.includes('Ingredient')&&recipe[key]){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:recipe[key]}),/*#__PURE__*/_jsx(\"td\",{children:recipe[\"strMeasure\".concat(key.slice(13))]})]},key);}return null;})})]}),recipe.strYoutube?/*#__PURE__*/_jsxs(\"div\",{class:\"row\",children:[/*#__PURE__*/_jsx(\"h5\",{children:\"Video Recipe\"}),/*#__PURE__*/_jsx(\"iframe\",{title:id,src:\"https://www.youtube.com/embed/\".concat(recipe.strYoutube.slice(-11)),allowFullScreen:true})]}):null]})]});}export{Recipe};","map":{"version":3,"sources":["/Users/evgeniy/Desktop/portfolio/dish-recipes/src/pages/Recipe.jsx"],"names":["useEffect","useState","useParams","useHistory","getMealById","Preloader","Recipe","recipe","setRecipe","id","goBack","then","data","meals","idMeal","strMealThumb","strMeal","strCategory","strArea","strInstructions","Object","keys","map","key","includes","slice","strYoutube"],"mappings":"oKAAA,OAASA,SAAT,CAAoBC,QAApB,KAAoC,OAApC,CACA,OAASC,SAAT,CAAoBC,UAApB,KAAsC,kBAAtC,CACA,OAASC,WAAT,KAA4B,QAA5B,CACA,OAASC,SAAT,KAA0B,mCAA1B,C,6IAEA,QAASC,CAAAA,MAAT,EAAkB,CACd,cAA4BL,QAAQ,CAAC,EAAD,CAApC,wCAAOM,MAAP,eAAeC,SAAf,eACA,eAAeN,SAAS,EAAxB,CAAQO,EAAR,YAAQA,EAAR,CACA,gBAAiBN,UAAU,EAA3B,CAAOO,MAAP,aAAOA,MAAP,CACAV,SAAS,CAAC,UAAM,CACZI,WAAW,CAACK,EAAD,CAAX,CAAgBE,IAAhB,CAAsB,SAACC,IAAD,QAAUJ,CAAAA,SAAS,CAACI,IAAI,CAACC,KAAL,CAAW,CAAX,CAAD,CAAnB,EAAtB,EACH,CAFQ,CAEN,CAACJ,EAAD,CAFM,CAAT,CAIF,mBAAO,wCACD,eAAQ,SAAS,CAAC,WAAlB,CAA8B,OAAO,CAAEC,MAAvC,qBADC,CAIF,CAACH,MAAM,CAACO,MAAR,cAAiB,KAAC,SAAD,IAAjB,cACG,aAAK,SAAS,CAAC,QAAf,wBACI,YAAK,GAAG,CAAEP,MAAM,CAACQ,YAAjB,CAA+B,GAAG,CAAC,kBAAnC,EADJ,cAEI,oBAAKR,MAAM,CAACS,OAAZ,EAFJ,cAGI,mCAAeT,MAAM,CAACU,WAAtB,GAHJ,CAIKV,MAAM,CAACW,OAAP,cAAiB,+BAAWX,MAAM,CAACW,OAAlB,GAAjB,CAAmD,IAJxD,cAKI,mBAAIX,MAAM,CAACY,eAAX,EALJ,cAOM,eAAO,SAAS,CAAC,UAAjB,wBACI,oCACI,mCACI,kCADJ,cAEI,+BAFJ,GADJ,EADJ,cAOI,uBAEQC,MAAM,CAACC,IAAP,CAAYd,MAAZ,EAAoBe,GAApB,CAAwB,SAAAC,GAAG,CAAI,CAC3B,GAAGA,GAAG,CAACC,QAAJ,CAAa,YAAb,GAA8BjB,MAAM,CAACgB,GAAD,CAAvC,CAA6C,CACzC,mBACI,mCACI,oBAAKhB,MAAM,CAACgB,GAAD,CAAX,EADJ,cAEI,oBACGhB,MAAM,qBAAcgB,GAAG,CAACE,KAAJ,CAAU,EAAV,CAAd,EADT,EAFJ,GAASF,GAAT,CADJ,CAQH,CACD,MAAO,KAAP,CACH,CAZD,CAFR,EAPJ,GAPN,CAiCKhB,MAAM,CAACmB,UAAP,cACG,aAAK,KAAK,CAAC,KAAX,wBACI,oCADJ,cAEI,eAAQ,KAAK,CAAEjB,EAAf,CAAmB,GAAG,yCAAmCF,MAAM,CAACmB,UAAP,CAAkBD,KAAlB,CAAwB,CAAC,EAAzB,CAAnC,CAAtB,CAAyF,eAAe,KAAxG,EAFJ,GADH,CAKG,IAtCR,GALD,GAAP,CA+CD,CACD,OAASnB,MAAT","sourcesContent":["import { useEffect, useState } from \"react\";\nimport { useParams, useHistory } from \"react-router-dom\";\nimport { getMealById } from \"../api\";\nimport { Preloader } from \"../components/Preloader/Preloader\";\n\nfunction Recipe() {\n    const [recipe, setRecipe] = useState({})\n    const { id } = useParams();\n    const {goBack} = useHistory();\n    useEffect(() => {\n        getMealById(id).then( (data) => setRecipe(data.meals[0]))\n    }, [id])\n\n  return <>\n        <button className=\"back__btn\" onClick={goBack}>\n        Go back\n      </button>\n      {!recipe.idMeal ? <Preloader /> : (\n          <div className=\"recipe\">\n              <img src={recipe.strMealThumb} alt=\"{recipe.strMeal}\" />\n              <h1>{recipe.strMeal}</h1>\n              <h6>Category: {recipe.strCategory}</h6>\n              {recipe.strArea ? <h6>Area: {recipe.strArea}</h6> : null}\n              <p>{recipe.strInstructions}</p>\n\n                <table className=\"centered\">\n                    <thead>\n                        <tr>\n                            <th>Ingredient</th>\n                            <th>Measure</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        {\n                            Object.keys(recipe).map(key => {\n                                if(key.includes('Ingredient') && recipe[key]){\n                                    return (\n                                        <tr key={key}>\n                                            <td>{recipe[key]}</td>\n                                            <td>{\n                                               recipe[`strMeasure${key.slice(13)}`] \n                                            }</td>\n                                        </tr>\n                                    )\n                                }\n                                return null\n                            })\n                        }\n                    </tbody>\n                </table>\n\n              {recipe.strYoutube ? (\n                  <div class=\"row\">\n                      <h5>Video Recipe</h5>\n                      <iframe title={id} src={`https://www.youtube.com/embed/${recipe.strYoutube.slice(-11)}`} allowFullScreen/>\n                  </div>\n              ) : null}\n          </div>\n      )}\n  </>;\n}\nexport { Recipe };\n"]},"metadata":{},"sourceType":"module"}